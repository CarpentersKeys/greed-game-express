refactor patientReduce with awaitDeepAny
test